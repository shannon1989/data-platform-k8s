apiVersion: v1
kind: ConfigMap
metadata:
  name: erigon-bsc-config
  namespace: blockchain
data:
  erigon.sh: |
    exec erigon \
    --chain=bor \
    --datadir=/data/erigon \
    \
    # ===== Sync =====
    --snapshots=true \
    --history.limit=90000 \
    \
    # ===== RPC =====
    --http \
    --http.addr=0.0.0.0 \
    --http.port=8545 \
    --http.api=eth,net,web3,erigon \
    --http.corsdomain=* \
    --http.vhosts=* \
    \
    # ===== Performance =====
    --db.pagesize=16k \
    --batchSize=256M \
    --rpc.batch.concurrency=32 \
    \
    # ===== Metrics =====
    --metrics \
    --metrics.addr=0.0.0.0 \
    --metrics.port=6060 \
    \
    # ===== Logging =====
    --log.console.json \
    --verbosity=3

